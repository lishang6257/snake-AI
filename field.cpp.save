#pragma once
#include "field.h"
#include "snake.h"
#include "d"
Field::Field()
{
    for(int i = 1;i < max_field_x - 1;i ++){
        for(int j = 1;j < max_field_y - 1;j ++){
            field[i][j] = NONE;
        }
    }
    //add the wall
    for(int i = 0;i < max_field_x;i ++){
        field[i][0] = WALL;
        field[i][max_field_y - 1] = WALL;
    }
    for(int j = 1;j < max_field_y - 1;j ++){
        field[0][j] = WALL;
        field[max_field_x-1][j] = WALL;
    }

    //init snake
    snakes.push_back(Snake());
}

Field::~Field()
{
    snakes.clear();
}

void Field::fresh()
{
    for(int i = 1;i < max_field_x - 1;i ++){
        for(int j = 1;j < max_field_y - 1;j ++){
            field[i][j] = NONE;
        }
    }
    //¸üÐÂsnake
    for(auto s : snakes){
        for(auto sp : s.getSnake()) field[sp.X()][sp.Y()] = SNAKE;
        field[s.getSnake()[0].X()][s.getSnake()[0].Y()] = SNAKEHEAD;
    }
}

void Field::painter()
{
    //paint wall
    for(int i = 0;i < max_field_x;i ++){
        for(int j = 0;j < max_field_y;j ++){
            switch(field[i][j]){
                case WALL       :  cout << "■";break;
                case SNAKEHEAD  :  cout << "⊙";break;
                case SNAKE      :  cout << "○";break;
                default         :  cout << "  ";break;
            }
        }
        cout << endl;
    }
}

/*
for (int i = 0; i < Board_x + 2; i++) {
		for (int j = 0; j < Board_y + 2; j++) {
			if (board[i][j] == WALL) cout << "■";
			else if (board[i][j] == SNAKEHEAD) cout << "⊙";
			else if (board[i][j] == SNAKE) cout << "○";
			else if (board[i][j] == FOOD_NORMAL) cout << "★";
			else if (board[i][j] == FOOD_ACCELERATOR) cout << "Ω";
			else if (board[i][j] == FOOD_ATTACK) cout << "Σ";
			else if (board[i][j] == FOOD_INVINCIBILITY) cout << "◎";
			else if (board[i][j] == FIRE) cout << "×";
			else if (board[i][j] == OBSTACLE) cout << "□";
			else cout << "  ";
		}
		cout << "\n";
	}
	*/
